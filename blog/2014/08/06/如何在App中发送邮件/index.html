<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1265.21">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times}
    p.p2 {margin: 0.0px 0.0px 12.0px 0.0px; font: 12.0px Times}
    span.s1 {text-decoration: underline ; color: #0000ee}
  </style>
</head>
<body>
<p class="p1">--- layout: default single: true ---</p>
<p class="p1">
  <header>
    
      <h1 class="entry-title">如何在App中发送邮件</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-06T20:04:00+08:00" pubdate data-updated="true">Aug 6<span>th</span>, 2014</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><hr />

<p>  &hellip; 目标：App 实现的功能是 – 当用户轻拍 Contact Us 按钮时,将弹出 email 界面。
首先，interface builder 界面,连接按钮和 action 方法。命名方法名称 – showEmail, 保留 Event 事件为 Touch Up Inside。
然后，实现 Email 接口，接着,引入 MessageUI.h 头文件,实现在 SimpleEmailViewController.h 中 MFMailComposeViewControllerDelegate 委托。
代码实现：</p>

<hr />

<pre><code> #import &lt;UIKit/UIKit.h&gt;     #import &lt;MessageUI/MessageUI.h&gt;     @interface SimpleEmailViewController : UIViewController     &lt;MFMailComposeViewControllerDelegate&gt; // Add the delegate - (IBAction)showEmail:(id)sender;     @end
 选择 SimpleEmailViewController.m 文件,实现 showEmail 方法MFMailComposeViewControllerDelegate 委托。在实现文件中添加如下代码:
</code></pre>

<p><em><em><em>     ￼-(IBAction)showEmail:(id)sender { // Email Subject     NSString </em>emailTitle = @&ldquo;Test Email&rdquo;;     NSString </em>messageBody = @&ldquo;This programming is so fun!&rdquo;;     NSArray </em>toRecipents = [NSArray arrayWithObject:@&ldquo;<a href="&#x6d;&#x61;&#x69;&#x6c;&#x74;&#111;&#x3a;&#115;&#x75;&#112;&#x70;&#x6f;&#x72;&#x74;&#x40;&#x61;&#112;&#112;&#99;&#111;&#100;&#97;&#x2e;&#99;&#111;&#x6d;">&#x73;&#x75;&#x70;&#x70;&#111;&#x72;&#116;&#x40;&#97;&#x70;&#x70;&#x63;&#x6f;&#x64;&#97;&#46;&#99;&#x6f;&#109;</a>&rdquo;];     MFMailComposeViewController <em>mc = [[MFMailComposeViewController alloc] init];     mc.mailComposeDelegate = self;     [mc setSubject:emailTitle];     [mc setMessageBody:messageBody isHTML:NO];      [mc setToRecipients:toRecipents];     [self presentViewController:mc animated:YES completion:NULL];     }//在屏幕上显示 email 界面     &ndash; (void) mailComposeController:(MFMailComposeViewController </em>)controller     ￼didFinishWithResult:(MFMailComposeResult)result error:(NSError *)error {     switch (result) {     case MFMailComposeResultCancelled: NSLog(@&ldquo;Mail cancelled&rdquo;);     break;     case MFMailComposeResultSaved: NSLog(@&ldquo;Mail saved&rdquo;);     break;     case MFMailComposeResultSent: NSLog(@&ldquo;Mail sent&rdquo;);     break;     case MFMailComposeResultFailed:     NSLog(@&ldquo;Mail sent failure: %@&rdquo;, [error localizedDescription]); break;     default: break;     }     [self dismissViewControllerAnimated:YES completion:NULL];     }&hellip;代码定义了邮件的主题,邮件内容和接收人，创建了内置的 MFMailComposeViewController 对象，MFMailComposeViewController 类提供了标准接口管理编辑和发送 email 消息。可以使用这个视图控制器在App 中显示一个标准的 email 视图。使用初始值,包括接收人邮件地 址,主题和邮件内容等等填充该视图的相关字段。</p>
</div>

</p>
<p class="p2">
  

<span class="byline author vcard">Posted by <span class="fn">贞</span></span>
 








  


<time datetime="2014-08-06T20:04:00+08:00" pubdate data-updated="true">Aug 6<span>th</span>, 2014</time> 

<span class="categories">
  
    <a class='category' href='/blog/categories/xue-xi/'>学习</a>
  
</span>

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1265.21">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier; color: #93a1a1; background-color: #002b36}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Heiti SC Light'; color: #93a1a1; background-color: #002b36}
    span.s1 {font: 13.0px 'Heiti SC Light'}
    span.s2 {font: 13.0px Courier}
  </style>
</head>
<body>
<p class="p1">&lt;p&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1">&lt;DIV &gt;</p>
<p class="p1"><span class="s1">作者：</span> &lt;A href="http://ksnowlv.github.io"&gt;<span class="s1">kAir</span>&lt;/A&gt; &lt;BR&gt;</p>
<p class="p1"><span class="s1">出处：</span> &lt;A href="http://ksnowlv.github.io"&gt;http://<span class="Apple-converted-space">    </span>kairzhen.github.io&lt;/A&gt;<span class="Apple-converted-space"> </span></p>
<p class="p2"><span class="s2">&lt;BR&gt;</span>原创文章，版权声明：自由转载<span class="s2">-</span>非商用<span class="s2">-</span>非衍生<span class="s2">-</span>保持署名</p>
<p class="p1">&lt;a href= "http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh"&gt; Creative Commons BY-NC-ND 3.0 &lt;/a&gt;<span class="s1">。</span><span class="Apple-converted-space"> </span></p>
<p class="p1">&lt;/DIV&gt;</p>
<p class="p1">&lt;/p&gt;</p>
</body>
</html>
</p>
<p class="p1"> <div class="sharing">
  
  
  
</div>
 </p>
<p class="p2"> <a href="file:///Users/snow3121/Desktop/MyBlog/blog/source/_layouts/%7B%7Bpage.previous.url%7D%7D"><span class="s1">« 往本地文件系统写入用户注册信息的两种方法</span></a>   <a href="file:///Users/snow3121/Desktop/MyBlog/blog/source/_layouts/%7B%7Bpage.next.url%7D%7D"><span class="s1">编写html邮件 »</span></a> </p>
<p class="p1"></p>
<h1 style="margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times"><b>Comments</b></h1>
<p class="p1"><div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = 'ksnowlv';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
</p>
<p class="p1"></p>
<p class="p1"></p>
<p class="p1"> <section>
  <h1>关于我</h1>
  <p>项目经历：手机单机游戏，手机网游封神_Online,腾讯地图客户端，腾讯地图&街景API,目前在做淘宝iPad客户端。</p>
  <p>爱好技术，喜欢产品。能多做点事，就不少做一分.</p>
  <p>QQ:309235009</p>
</section>
<section>
  <h1>最近发布</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/09/03/OC-zhong-nsset-deng-ji-he-lei-yong-fa/">OC基础之NSSet，NSMutableSet,NSCountedSet等</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/02/assign%2Ccopy%2Cstrong%E5%BD%A2%E8%B1%A1%E5%8C%96/">形象化理解assign</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/07/git%E5%88%9B%E5%BB%BA%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF/">git创建远程分支</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/06/%E5%A4%96%E9%83%A8%E5%8C%96%E8%A1%A8%E6%95%B0%E6%8D%AE%E4%B9%8BProperty+List/">外部化表数据之Property List</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/06/%E7%BC%96%E5%86%99HTML%E9%82%AE%E4%BB%B6/">编写html邮件</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>分类</h1>
    <ul id="category-list"><li><a href='/blog/categories/rake/'>rake (2)</a></li><li><a href='/blog/categories/xue-xi/'>学习 (9)</a></li></ul>
</section>
<section>
  <h1>外部链接</h1>
    <ul id="外部链接">
    	<li><a href="https://developer.apple.com">苹果开发者中心</a> </li>
    	<li><a href="http://stackoverflow.com/questions/tagged/ios">stackoverflow</a></li>
	</ul>
</section>
 </p>
<p class="p1"></p>
</body>
</html>
